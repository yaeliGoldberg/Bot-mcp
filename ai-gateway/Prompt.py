def prompt_builder(products: list, level: str) -> str:
    """
    בונה פרומפט בעברית לפי:
    products - רשימת מוצרים
    level - easy / medium / hard
    """

    products_text = ", ".join(products)

    # ---------------- רמה קלה ----------------
    if level == "easy":
        prompt = f"""
אתה שף ידידותי ונעים שמסביר בצורה פשוטה וברורה.

הכן לי מתכון ברמה קלה המשתמש רק במוצרים הבאים:
{products_text}

דרישות:
- המתכון חייב להיות ברור מאוד, מפורט צעד אחר צעד.
- להסביר כל שלב בפשטות, כאילו למתחילים.
- להוסיף דוגמאות והסברים נוספים כשצריך.
- להשתמש באימוג'ים כדי להפוך את ההסבר לקליל ומהנה 😊🍳
- לציין זמן הכנה וזמן בישול.
- להפריד בצורה ברורה בין רשימת מצרכים לשלבי ההכנה.
- להקפיד שהמתכון יהיה כשר.
- אין לערבב מוצרים חלביים ובשריים יחד.
- אם קיימים גם חלביים וגם בשריים ברשימה – לבחור סוג אחד בלבד.

המתכון צריך להיות מעודד, ברור ומוסבר היטב.
"""

    # ---------------- רמה בינונית ----------------
    elif level == "medium":
        prompt = f"""
אתה שף מקצועי המסביר בצורה מובנית וברורה.

הכן לי מתכון ברמה בינונית המשתמש במוצרים הבאים:
{products_text}

דרישות:
- כתיבה מובנית מאוד: כותרת, מצרכים, שלבי הכנה, טיפים.
- לא להשתמש בשפה ילדותית.
- להסביר בצורה ברורה אך תמציתית.
- לציין כמויות מדויקות ככל האפשר.
- לציין זמן הכנה וזמן בישול.
- להוסיף טיפים לשיפור התוצאה.
- להקפיד שהמתכון יהיה כשר.
- אין לערבב מוצרים חלביים ובשריים יחד.
- אם קיימים גם חלביים וגם בשריים – לבחור קטגוריה אחת בלבד.

הכתיבה צריכה להיות מקצועית אך נגישה.
"""

    # ---------------- רמה קשה ----------------
    elif level == "hard":
        prompt = f"""
אתה שף מומחה הכותב לקהל בוגר ומנוסה.

פתח מתכון מתוחכם ומעניין המבוסס על המוצרים הבאים:
{products_text}

דרישות:
- כתיבה בוגרת, מעניינת ומקצועית.
- לשלב טכניקות בישול והסברים מעמיקים.
- להסביר את ההיגיון מאחורי שילובי הטעמים.
- לציין זמן הכנה וזמן בישול.
- להציע שדרוגים או וריאציות אפשריות.
- להציע רעיונות להגשה ואסתטיקה.
- להקפיד שהמתכון יהיה כשר.
- אין לערבב מוצרים חלביים ובשריים יחד.
- אם קיימים גם חלביים וגם בשריים – לבחור סוג אחד בלבד.

הטון צריך להיות רציני, עשיר ומכוון לאדם בוגר.
"""

    else:
        prompt = "רמת קושי לא תקינה."

    return prompt
